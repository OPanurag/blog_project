<!-- blog/templates/blog/post_detail.html -->
<!DOCTYPE html>
<html>
<head>
    <title>{{ post.title }}</title>
</head>
<body>
<h1>{{ post.title }}</h1>
<p>{{ post.content }}</p>
<p>Published on: {{ post.published_date }}</p>
<p>Author: {{ post.author.username }}</p>

<h2>Comments</h2>
<ul>
    {% for comment in comments %}
    <li>
        <strong>{{ comment.author.username }}</strong>: {{ comment.text }} ({{ comment.created_date }})
    </li>
    {% empty %}
    <li>No comments yet.</li>
    {% endfor %}
</ul>

{% if user.is_authenticated %}
<h3>Add a comment:</h3>
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Submit Comment</button>
</form>
{% else %}
<p>You need to be logged in to comment.</p>
{% endif %}

<a href="{% url 'post-list' %}">Back to post list</a>
</body>
</html>
